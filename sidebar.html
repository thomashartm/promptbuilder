<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Prompt Builder Sidebar</title>
    <link rel="stylesheet" href="style.css" />
    <script src="sidebar.js" type="module"></script>
  </head>
  <body>
    <div id="notification" class="notification hidden"></div>

    <div class="tabs">
      <button id="tab-builder" class="tab-button active">Prompt Builder</button>
      <button id="tab-history" class="tab-button">Saved Prompts</button>
    </div>

    <div id="tab-content-builder" class="tab-content active">
      <form id="promptForm">
        <label for="categoryFilter">Filter by Role/Category</label>
        <select id="categoryFilter"></select>
        <label for="templateSelect">ðŸŽ¯ Choose a Template</label>
        <select id="templateSelect"></select>

        <label for="goal">What do you want to do?</label>
        <textarea
          id="goal"
          rows="2"
          placeholder="e.g., Summarize an article"
        ></textarea>

        <label for="context">Provide context</label>
        <textarea
          id="context"
          rows="2"
          placeholder="e.g., Article on renewable energy trends in 2024"
        ></textarea>

        <label for="details">Format, tone, length?</label>
        <textarea
          id="details"
          rows="2"
          placeholder="e.g., Friendly tone, around 100 words"
        ></textarea>

        <label for="steps">Break down complex tasks</label>
        <textarea
          id="steps"
          rows="2"
          placeholder="e.g., Summarize in 3 bullets, then suggest 2 titles"
        ></textarea>

        <label for="refine">Refine and improve</label>
        <textarea
          id="refine"
          rows="2"
          placeholder="e.g., Try rewording to make it more concise"
        ></textarea>
      </form>
      <label for="refine">Refine your generated prompt:</label>

      <div class="prompt-toolbar">
        <button id="generateBtn" title="Generate Prompt">
            <svg class="icon"><use href="#icon-generate" /></svg>

        </button>
        <button id="copyBtn" title="Copy Prompt">
            <svg class="icon"><use href="#icon-copy" /></svg>
        </button>
        <button id="shareBtn" title="Share Prompt">
            <svg class="icon"><use href="#icon-share" /></svg>

        </button>
        <button id="saveBtn" title="Save Prompt">
            <svg class="icon"><use href="#icon-save" /></svg>

        </button>
      </div>
      <textarea
        id="result"
        class="result-container"
        rows="8"
        placeholder="Generated prompt will appear here. You can edit it."
      ></textarea>
    </div>

    <div id="tab-content-history" class="tab-content hidden">
      <div class="export-controls">
        <button
          id="exportJsonBtn"
          class="icon-button"
          aria-label="Export-Json"
          title="Export JSON"
        >
          JSON
        </button>
        <button
          id="exportTxtBtn"
          class="icon-button"
          aria-label="Export-TXT"
          title="Export TXT"
        >
          TXT
        </button>
      </div>
      <h2>Saved Prompts</h2>
      <ul id="savedList" class="saved-list"></ul>
    </div>

    <style></style>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="icon-copy" viewBox="0 0 24 24">
        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0
                 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" />
      </symbol>

      <symbol id="icon-save" viewBox="0 0 24 24">
        <path d="M17 3H5c-1.1 0-2 .9-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4zm0
                 16H7v-6h10v6zm-5-7a2 2 0 110-4 2 2 0 010 4zm3-7.5V9H6V5.5h9z" />
      </symbol>

      <symbol id="icon-share" viewBox="0 0 24 24">
        <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.14 3.14 0 000-1.4l7.05-4.11A2.97
                 2.97 0 0018 7.91c1.66 0 3-1.34 3-3S19.66 2 18 2s-3 1.34-3 3c0
                 .23.03.45.08.66L8.03 9.77a3 3 0 100 4.46l7.05 4.11c-.05.21-.08.43-.08.66 0
                 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z" />
      </symbol>

      <symbol id="icon-generate" viewBox="0 0 24 24">
        <path d="M12 2l4 8H8l4-8zm0 20l-4-8h8l-4 8z" />
      </symbol>

      <symbol id="icon-export-json" viewBox="0 0 24 24">
        <path d="M5 5h14v2H5zM5 9h10v2H5zM5 13h14v2H5zM5 17h10v2H5z" />
      </symbol>

  </body>
</html>
